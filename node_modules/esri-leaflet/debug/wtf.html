<!DOCTYPE html>
<html>
  <head>
     <!-- Load Leaflet -->
    <link rel="stylesheet" href="../node_modules/leaflet/dist/leaflet.css" />
    <script src="../node_modules/leaflet/dist/leaflet-src.js"></script>

    <!-- Load Esri Leaflet from source-->
    <script src="../dist/esri-leaflet-debug.js"></script>

    <style>
      html, body, #map {
        margin:0; padding:0;  width : 100%; height : 100%;
      }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <script>
      var map = L.map('map').setView([45.528, -122.680], 3);
      // L.esri.basemapLayer("Gray").addTo(map);

      // var parks = L.esri.featureLayer({
      //   url: "https://services.arcgis.com/rOo16HdIMeOBI4Mb/arcgis/rest/services/Portland_Parks/FeatureServer/0",
      //   style: function () {
      //     return { color: "#70ca49", weight: 2 };
      //   }
      // }).addTo(map);

      // var popupTemplate = "<h3>{NAME}</h3>{ACRES} Acres<br><small>Property ID: {PROPERTYID}<small>";

      // parks.bindPopup(function(e){
      //   return L.Util.template(popupTemplate, e.feature.properties)
      // });

      var otherUrl = 'https://sampleserver6.arcgisonline.com/arcgis/rest/services/SampleWorldCities/MapServer';
      var iwaUrl = 'https://zkhan.esri.com/arcgis/rest/services/UsCities/MapServer';

      var dyn = L.esri.dynamicMapLayer({
        url: iwaUrl,
        useCors: false
      }).addTo(map);

      // dyn.metadata(function (err, meta) {
      //   console.log('hi');
      // })
    </script>
  </body>
</html>