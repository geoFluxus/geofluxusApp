<!DOCTYPE html>
  <html>
  <head>
    <meta charset=utf-8 />
    <title>Esri Leaflet Debugging Sample</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />

    <!-- Load Leaflet -->
    <link rel="stylesheet" href="../node_modules/leaflet/dist/leaflet.css" />
    <script src="../node_modules/leaflet/dist/leaflet-src.js"></script>

    <!-- Load Esri Leaflet from source-->
    <script src="../dist/esri-leaflet-debug.js"></script>

    <!-- Proj4 and Proj4Leaflet -->
    <script src="https://unpkg.com/proj4@2.3.17/dist/proj4-src.js"></script>
    <script src="https://unpkg.com/proj4leaflet@1.0.1"></script>

    <style>
      body {
        margin:0;
        padding:0;
      }

      #map {
        position: absolute;
        top:0;
        bottom:0;
        right:0;left:0;
      }

      #info-pane {
        position: absolute;
        top: 10px;
        right: 10px;
        z-index: 1000;
        padding: 1em;
        background: white;
      }
    </style>
  </head>
  <body>

  <div id="map"></div>
  <div id="info-pane" class="leaflet-bar">
    <label>
    sample application for debugging
    </label>
  </div>

  <script>
    var crs = new L.Proj.CRS('EPSG:3857', '+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs', {
    origin: [2034917.0, -3954829.0],
    resolutions: [
      135.46693760054188,
      67.73346880027094,
      33.86673440013547
    ]
  });

    var map = L.map('map', {
        crs: crs
    }).setView([18.5296, -33.9597], 0);

    L.esri.tiledMapLayer({
        url:'https://citymaps.capetown.gov.za/agsext1/rest/services/Background_Maps/Relief_Map/MapServer/',
        noWrap: true
    }).addTo(map);


    // var map = L.map('map').setView([35, -100], 3);

    // L.esri.tiledMapLayer({
    //     url:'http://tiles.arcgis.com/tiles/uCXeTVveQzP4IIcx/arcgis/rest/services/cal_tiles/MapServer',
    //     noWrap: true
    // }).addTo(map);

  </script>

  </body>
  </html>